<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-adsense-account" content="ca-pub-2755916028562913">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Find the latest job opportunities and bursaries for South African students and graduates. Updated daily with new listings.">
    <meta name="keywords" content="jobs, careers, employment, bursaries, scholarships, South Africa, graduates">
    <meta property="og:title" content="Latest Job Opportunities & Bursaries | StudentFunding.co.za">
    <meta property="og:description" content="Discover current job openings and bursary opportunities for South African students and graduates.">
    <meta property="og:type" content="website">
    <title>Engineering & IT Job Portal | StudentFunding.co.za</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --secondary-color: #e11d48;
            --text-color: #1f2937;
            --light-gray: #f3f4f6;
            --medium-gray: #e5e7eb;
            --white: #ffffff;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            background-color: var(--light-gray);
            color: var(--text-color);
        }
        
        header {
            background-color: var(--primary-dark);
            color: var(--white);
            padding: 20px;
            text-align: center;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .header-content {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
        }
        
        header h1 {
            font-size: 1.8rem;
            margin: 0;
        }
        
        .bursary-link {
            background-color: var(--white);
            color: var(--primary-dark);
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .bursary-link:hover {
            background-color: var(--light-gray);
            transform: translateY(-2px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        .intro-section {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .intro-section h2 {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--primary-dark);
        }
        
        .intro-section p {
            font-size: 1.1rem;
            color: var(--text-color);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }
        
        .category-box {
            background: linear-gradient(135deg, var(--white) 0%, #f8fafc 100%);
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .category-box:hover {
            transform: translateY(-5px);
            border-color: var(--primary-color);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .category-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .category-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-dark);
        }
        
        .category-count {
            background-color: var(--secondary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .jobs-section {
            display: none;
            margin-top: 40px;
        }
        
        .jobs-section.active {
            display: block;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background-color: var(--medium-gray);
            color: var(--text-color);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .back-button:hover {
            background-color: var(--primary-color);
            color: var(--white);
        }
        
        .selected-category {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .selected-category-icon {
            font-size: 2rem;
            color: var(--primary-color);
        }
        
        .selected-category-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .job-listings {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        @media (max-width: 600px) {
            .job-listings {
                grid-template-columns: 1fr;
            }
        }
        
        .job-card {
            background-color: var(--white);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 4px solid var(--primary-color);
            transition: transform 0.3s ease;
        }
        
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .job-card h2 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--primary-dark);
        }
        
        .job-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .job-meta span {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .job-meta i {
            color: var(--primary-color);
            font-size: 0.9rem;
        }
        
        .job-card p {
            margin-bottom: 15px;
            color: var(--text-color);
            line-height: 1.5;
        }
        
        .view-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background-color: var(--primary-color);
            color: var(--white);
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .view-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .ad-container {
            margin: 40px 0;
            text-align: center;
            padding: 20px;
            background: var(--white);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .ad-feed-container {
            margin: 30px 0;
            text-align: center;
            padding: 15px;
            background: var(--white);
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        footer {
            text-align: center;
            margin-top: 60px;
            padding: 30px 0;
            background-color: var(--primary-dark);
            color: var(--white);
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .footer-links a {
            color: var(--white);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
            color: var(--light-gray);
        }
        
        .new-badge {
            background-color: var(--secondary-color);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .no-jobs {
            text-align: center;
            padding: 60px 40px;
            color: var(--text-color);
            font-style: italic;
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Engineering & IT Job Portal</h1>
            <a href="bursaries.html" class="bursary-link">
                <i class="fas fa-graduation-cap"></i> View Bursaries
            </a>
        </div>
    </header>

    <div class="container">
        <!-- Ad 1: In-Feed Above -->
        <div class="ad-feed-container">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2755916028562913"
             crossorigin="anonymous"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-format="fluid"
                 data-ad-layout-key="-6t+ed+2i-1n-4w"
                 data-ad-client="ca-pub-2755916028562913"
                 data-ad-slot="7392603302"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <div class="intro-section">
            <h2>Find Your Dream Career</h2>
            <p>Browse job opportunities by selecting your field of study or interest below. Click on any category to view available positions.</p>
        </div>

        <!-- Categories Grid -->
        <div class="categories-grid" id="categories-grid">
            <!-- Categories will be injected here -->
        </div>

        <!-- Ad 2 -->
        <div class="ad-container">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2755916028562913" crossorigin="anonymous"></script>
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-2755916028562913"
                 data-ad-slot="6226242747"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

        <!-- Jobs Section (Hidden by default) -->
        <div class="jobs-section" id="jobs-section">
            <button class="back-button" id="back-button">
                <i class="fas fa-arrow-left"></i> Back to Categories
            </button>
            
            <div class="selected-category" id="selected-category">
                <i class="fas fa-cogs selected-category-icon" id="selected-icon"></i>
                <h2 class="selected-category-title" id="selected-title">Mechanical Engineering</h2>
            </div>

            <div class="job-listings" id="job-list">
                <!-- Jobs will be injected here when category is clicked -->
            </div>
        </div>

        <!-- Ad 3 -->
        <div class="ad-container">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2755916028562913"
             crossorigin="anonymous"></script>
            <ins class="adsbygoogle"
                 style="display:block; text-align:center;"
                 data-ad-layout="in-article"
                 data-ad-format="fluid"
                 data-ad-client="ca-pub-2755916028562913"
                 data-ad-slot="1561692123"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>

    </div>

    <footer>
        <div class="footer-links">
            <a href="about.html">About Us</a>
            <a href="contact.html">Contact</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
        </div>
        <p>&copy; <span id="current-year"></span> Student Funding Hub. All rights reserved.</p>
    </footer>

    <script>
        // Sample job data - replace with your actual jobs.js content
        const jobs = [
            {
                id: "graduate-mechanical-engineer-3d-scanning-weir-minerals",
                title: "Graduate Mechanical Engineer - 3D Scanning",
                company: "Weir Minerals",
                location: "Port Elizabeth",
                type: "Full-time • Graduate Programme",
                duration: "Not Specified",
                reportTo: "N/A",
                datePosted: "2025-09-19T08:36:33+00:00",
                closingDate: "2025-09-25",
                applicationLink: "https://weir.wd3.myworkdayjobs.com/en-US/Weir_External_Careers/job/Port-Elizabeth/Graduate--Mechanical-Engineer_R0033358",
                reference: "R0033358",
                tags: [
                    "Engineering",
                    "Graduate Programme",
                    "Mechanical Engineering",
                    "3D Scanning",
                    "Mining"
                ],
                shortDescription: "Graduate Mechanical Engineer role specializing in 3D scanning technology at Weir Minerals.",
                fullDescription: "Graduate Mechanical Engineer position at Weir Minerals focusing on 3D scanning and dimensional analysis. Requires Bachelor's degree in Mechanical Engineering with 60%+ average. Full training in Romer Absolute Arm and PolyWorks software. Based in Port Elizabeth. Apply by 25 September 2025."
            },
            {
                id: "engineer-in-training-industrial-engineering-eskom",
                title: "Engineer in Training - Industrial Engineering",
                company: "Eskom",
                location: "Sunninghill, Gauteng (Megawatt Park)",
                type: "Internship • Full-time",
                duration: "Not Specified",
                reportTo: "N/A",
                datePosted: "2025-09-22T14:01:05+00:00",
                closingDate: "2025-09-30",
                applicationLink: "https://eskomcareers.ci.hr/applicant/index.php?controller=Listings&method=view&listingid=62e21f1f-41c3-4a08-88bf-51ffb05b9c89",
                reference: "N/A",
                tags: [
                    "Engineering",
                    "Internship",
                    "Industrial Engineering",
                    "Energy",
                    "Graduate Programme"
                ],
                shortDescription: "Engineer in Training positions at Eskom for Industrial Engineering graduates.",
                fullDescription: "Two Engineer in Training positions at Eskom for recent BEng/BSc Industrial Engineering graduates. Structured development program combining institutionalized training with practical experience across Eskom operations. Based at Megawatt Park in Sunninghill. Market-related remuneration. Apply by 30 September 2025."
            },
            {
                id: "fintech-internship-programme-2026-mtn",
                title: "Fintech Internship Programme 2026",
                company: "MTN",
                location: "South Africa (Remote/On-site)",
                type: "Internship • Full-time",
                duration: "2026 Programme",
                reportTo: "N/A",
                datePosted: "2025-09-22T13:37:36+00:00",
                closingDate: "2025-09-22",
                applicationLink: "https://leap.ly/opportunities/927",
                reference: "N/A",
                tags: [
                    "Fintech",
                    "Internship",
                    "IT",
                    "Finance",
                    "Graduate Programme"
                ],
                shortDescription: "MTN Fintech Internship Programme 2026 for graduates in various fields including IT, Engineering, Finance, and Business.",
                fullDescription: "MTN Fintech Internship Programme 2026 offering 16 positions across South Africa. For graduates with 1-3 years experience and 65%+ academic average. Fields include IT, Engineering, Finance, Business, and more. Hands-on experience in digital payments, mobile money, and product innovation. Apply by 22 September 2025."
            },
            {
                id: "engineering-learnership-programme-aviation-atns",
                title: "Engineering Learnership Programme - Aviation",
                company: "ATNS (Air Traffic and Navigation Services)",
                location: "Johannesburg (Bonaero Park)",
                type: "Learnership • Full-time",
                duration: "24 Months",
                reportTo: "N/A",
                datePosted: "2025-09-21T14:25:24+00:00",
                closingDate: "2025-09-30",
                applicationLink: "https://atns.ci.hr/applicant/index.php?controller=Listings&method=view&listingid=74437f99-995c-47e2-b770-a95fd538a55c",
                reference: "atns_000732",
                tags: [
                    "Engineering",
                    "Learnership",
                    "Aviation",
                    "Electrical Engineering",
                    "Electronics"
                ],
                shortDescription: "24-month Engineering Learnership Programme at ATNS for Electrical/Electronics Engineering graduates in aviation industry.",
                fullDescription: "ATNS Engineering Learnership Programme for 2026-2027. 24-month programme with 3 months training at Aviation Training Academy and 21 months operational deployment. For Electrical/Electronics Engineering graduates. Potential permanent placement upon completion. Apply by 30 September 2025."
            },
            {
                id: "facilities-intern-engineering-momentum",
                title: "Facilities Intern - Engineering",
                company: "Momentum Group",
                location: "Bellville, Western Cape",
                type: "Temporary • Internship",
                duration: "Not Specified",
                reportTo: "N/A",
                datePosted: "2025-09-20T12:34:06+00:00",
                closingDate: "2025-09-30",
                applicationLink: "https://momentumgroupltd.internal.erecruit.co/candidateapp/Jobs/View/MMH250210-9?utm_source=Indeed&utm_medium=organic&utm_campaign=Indeed",
                reference: "MMH250210-9",
                tags: [
                    "Engineering",
                    "Internship",
                    "Facilities Management",
                    "Electrical Engineering",
                    "Mechanical Engineering"
                ],
                shortDescription: "Facilities Intern at Momentum Group for Engineering graduates. Hands-on experience with electrical, mechanical, and HVAC systems.",
                fullDescription: "Facilities Intern position at Momentum Group for Engineering diploma/degree holders. Gain experience in electrical, mechanical, and HVAC systems maintenance, safety compliance, and sustainability projects. Based in Bellville, Western Cape. Apply by 30 September 2025."
            },
            {
                id: "it-intern-opportunities-resort-technology-division-the-beekman-group-port-shepstone-kwazulu-natal",
                title: "IT Intern - Resort Technology",
                company: "The Beekman Group",
                location: "Port Shepstone, KwaZulu-Natal",
                type: "Internship • Full-time",
                duration: "Not Specified",
                reportTo: "N/A",
                datePosted: "2025-09-18T03:27:26+00:00",
                closingDate: "N/A",
                applicationLink: "https://www.beekmangroup.com/job/3-x-it-intern-resorts/",
                reference: "36/09",
                tags: [
                    "IT",
                    "Internship",
                    "Hospitality",
                    "Technology",
                    "Technical Support"
                ],
                shortDescription: "Three IT Intern positions at Beekman Group's resort operations. Gain experience in hardware installation, server maintenance, and technical support.",
                fullDescription: "IT Intern positions at The Beekman Group's resort technology division. Requires IT qualifications and A+/N+/MCP certifications. Responsibilities include installing/maintaining computer hardware and software, server monitoring, network systems maintenance, and providing technical support. Physical capability for working in confined spaces and safety protocol adherence required."
            },
            {
                id: "business-analyst-graduate-shape-africa-s-financial-future",
                title: "Business Analyst Graduate",
                company: "Absa Group",
                location: "Johannesburg (Hybrid)",
                type: "Full-time • Graduate Program",
                duration: "Not Specified",
                reportTo: "Programme Supervisors",
                datePosted: "2025-09-12T06:43:53+00:00",
                closingDate: "2025-09-26",
                applicationLink: "https://absa.wd3.myworkdayjobs.com/en-US/ABSAcareersite/job/Johannesburg/Business-Analyst-Graduate_R-15979452",
                reference: "R-15979452",
                tags: [
                    "Business Analysis",
                    "Graduate Programme",
                    "Finance",
                    "Banking",
                    "IT"
                ],
                shortDescription: "Business Analyst Graduate role at Absa Group. Shape Africa's financial future through requirements gathering and digital transformation.",
                fullDescription: "Business Analyst Graduate position at Absa Group. Requires NQF Level 7 qualification in IT, Computer Science or related fields. Responsibilities include requirements gathering, process analysis, stakeholder collaboration, JAD sessions, and supporting business initiative implementations. Focus on digital transformation in banking across 12 African countries."
            },
            {
                id: "graduate-project-engineer-launch-your-engineering-career-at-cape-town-harbour",
                title: "Graduate Project Engineer",
                company: "3C Metal Group - Cinco Engineering",
                location: "Cape Town Harbour",
                type: "Permanent • Full-time",
                duration: "Permanent",
                reportTo: "N/A",
                datePosted: "2025-09-12T03:29:03+00:00",
                closingDate: "N/A",
                applicationLink: "https://3cmetal-career.talent-soft.com/job/job-graduate-project-engineer_292.aspx",
                reference: "2025-292",
                tags: [
                    "Engineering",
                    "Graduate Programme",
                    "Mechanical Engineering",
                    "Maritime",
                    "Project Engineering"
                ],
                shortDescription: "Graduate Project Engineer role at Cape Town Harbour working on maritime engineering projects including steel fabrication and ship repair.",
                fullDescription: "Graduate Project Engineer position with Cinco Engineering (3C Metal Group) at Cape Town Harbour. Requires Bachelor's degree in Mechanical Engineering. Work on diverse projects including steel structure fabrication, industrial piping, mechanical fitting, ship repair, and maintenance operations in the maritime industry."
            },
            {
                id: "transport-intern-launch-your-career-in-energy-logistics",
                title: "Transport Intern - Energy Logistics",
                company: "TotalEnergies",
                location: "Johannesburg",
                type: "Internship • Full-time",
                duration: "Not Specified",
                reportTo: "Programme Supervisors",
                datePosted: "2025-09-10T10:30:12+00:00",
                closingDate: "N/A",
                applicationLink: "https://jobs.totalenergies.com/en_US/careers/JobDetail/Transport-Internship/70506?Codes=9999#",
                reference: "N/A",
                tags: [
                    "Logistics",
                    "Internship",
                    "Supply Chain",
                    "Energy",
                    "Transport"
                ],
                shortDescription: "Transport Intern at TotalEnergies gaining experience in logistics operations, vehicle scheduling, and safety protocols.",
                fullDescription: "Transport Internship at TotalEnergies for graduates in Industrial Engineering, Logistics, or Supply Chain Management. Responsibilities include vehicle compliance verification, load scheduling, HSSE standards implementation, transport operations management, and safety compliance in the energy sector."
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            const categoriesGrid = document.getElementById('categories-grid');
            const jobsSection = document.getElementById('jobs-section');
            const backButton = document.getElementById('back-button');
            const selectedCategory = document.getElementById('selected-category');
            const selectedIcon = document.getElementById('selected-icon');
            const selectedTitle = document.getElementById('selected-title');
            const jobList = document.getElementById('job-list');
            const today = new Date();
            const oneWeekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);

            // Define categories with their icons and associated tags
            const categories = {
                'mechanical': {
                    name: 'Mechanical Engineering',
                    icon: 'fas fa-cogs',
                    tags: ['Mechanical Engineering', 'Mechanical', 'Mechatronics', 'Draughting', '3D Scanning', 'Automotive', 'Aeronautical']
                },
                'electrical': {
                    name: 'Electrical Engineering',
                    icon: 'fas fa-bolt',
                    tags: ['Electrical Engineering', 'Electrical', 'Electronics', 'Instrumentation', 'Power Systems', 'Renewable Energy']
                },
                'mining': {
                    name: 'Mining & Metallurgy',
                    icon: 'fas fa-mountain',
                    tags: ['Mining', 'Metallurgical Engineering', 'Metallurgy', 'Mine Rehabilitation', 'Geology', 'Rock Engineering']
                },
                'software': {
                    name: 'Software Development',
                    icon: 'fas fa-code',
                    tags: ['Software Development', 'Programming', 'Web Development', 'AI', 'Machine Learning', 'C#', 'Python', 'Java']
                },
                'it': {
                    name: 'IT & Technology',
                    icon: 'fas fa-laptop-code',
                    tags: ['IT', 'Technology', 'Business Analysis', 'Systems', 'Network', 'Cybersecurity', 'Database']
                },
                'civil': {
                    name: 'Civil Engineering',
                    icon: 'fas fa-hard-hat',
                    tags: ['Civil Engineering', 'Construction', 'Infrastructure', 'Structural', 'Geotechnical', 'Transportation']
                },
                'industrial': {
                    name: 'Industrial Engineering',
                    icon: 'fas fa-industry',
                    tags: ['Industrial Engineering', 'Process Engineering', 'Manufacturing', 'Supply Chain', 'Logistics', 'Quality Control']
                },
                'chemical': {
                    name: 'Chemical Engineering',
                    icon: 'fas fa-flask',
                    tags: ['Chemical Engineering', 'Process Engineering', 'Petrochemical', 'Pharmaceutical', 'Biochemical']
                }
            };

            // Count jobs for each category
            function countJobsInCategory(categoryKey) {
                const category = categories[categoryKey];
                return jobs.filter(job => {
                    return category.tags.some(tag => 
                        job.tags.some(jobTag => 
                            jobTag.toLowerCase().includes(tag.toLowerCase())
                        )
                    );
                }).length;
            }

            // Create category boxes
            Object.keys(categories).forEach(categoryKey => {
                const category = categories[categoryKey];
                const jobCount = countJobsInCategory(categoryKey);
                
                const categoryBox = document.createElement('div');
                categoryBox.className = 'category-box';
                categoryBox.dataset.category = categoryKey;
                categoryBox.innerHTML = `
                    <i class="${category.icon} category-icon"></i>
                    <h3 class="category-title">${category.name}</h3>
                    <div class="category-count">${jobCount} Jobs</div>
                `;
                categoriesGrid.appendChild(categoryBox);
            });

            // Filter jobs by category and sort by date (newest first)
            function showJobsByCategory(categoryKey) {
                const category = categories[categoryKey];
                jobList.innerHTML = '';

                const filteredJobs = jobs.filter(job => {
                    return category.tags.some(tag => 
                        job.tags.some(jobTag => 
                            jobTag.toLowerCase().includes(tag.toLowerCase())
                        )
                    );
                });

                // Sort jobs by date (newest first)
                filteredJobs.sort((a, b) => {
                    return new Date(b.datePosted) - new Date(a.datePosted);
                });

                if (filteredJobs.length === 0) {
                    jobList.innerHTML = '<div class="no-jobs">No jobs available in this category at the moment. Please check back later.</div>';
                    return;
                }

                filteredJobs.forEach(job => {
                    const jobDate = new Date(job.datePosted);
                    const isNew = jobDate > oneWeekAgo;
                    
                    const jobCard = document.createElement('div');
                    jobCard.className = 'job-card';
                    jobCard.innerHTML = `
                        <h2>
                            ${job.title}
                            ${isNew ? '<span class="new-badge">NEW</span>' : ''}
                        </h2>
                        <div class="job-meta">
                            <span><i class="fas fa-building"></i> ${job.company}</span>
                            <span><i class="fas fa-map-marker-alt"></i> ${job.location}</span>
                            <span><i class="fas fa-calendar-alt"></i> ${jobDate.toLocaleDateString('en-ZA')}</span>
                        </div>
                        <p>${job.shortDescription}</p>
                        <a href="job.html?id=${job.id}" class="view-btn">
                            <i class="fas fa-eye"></i> View Details
                        </a>
                    `;
                    jobList.appendChild(jobCard);
                });
            }

            // Category box click event
            document.querySelectorAll('.category-box').forEach(box => {
                box.addEventListener('click', function() {
                    const categoryKey = this.dataset.category;
                    const category = categories[categoryKey];
                    
                    // Update selected category display
                    selectedIcon.className = `${category.icon} selected-category-icon`;
                    selectedTitle.textContent = category.name;
                    
                    // Show jobs for this category
                    showJobsByCategory(categoryKey);
                    
                    // Switch to jobs view
                    categoriesGrid.style.display = 'none';
                    jobsSection.classList.add('active');
                    
                    // Scroll to top of jobs section
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            // Back button event
            backButton.addEventListener('click', function() {
                jobsSection.classList.remove('active');
                categoriesGrid.style.display = 'grid';
            });
        });
    </script>
</body>
</html>